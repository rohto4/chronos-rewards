# 📋 Chronos Rewards - 動作確認チェックリスト

最終更新日: 2026-02-15

## 🎯 テスト環境

- [x] ローカル開発サーバー起動 (`npm run dev`) - ✅ http://localhost:3001 で起動中
- [x] ビルド成功確認 (`npm run build`) - ✅ 成功（警告のみ、既知の問題）
- [x] 型チェック成功 (`npm run type-check`) - ✅ エラー0件
- [x] テスト実行成功 (`npm test`) - ✅ 73テスト全て合格

---

## 1️⃣ 環境セットアップ・初期表示

### 1.1 依存関係インストール
- [x] `npm install` が正常に完了する - ✅ 完了
- [x] エラーや警告がないことを確認 - ✅ 問題なし

### 1.2 開発サーバー起動
- [x] `npm run dev` でサーバーが起動する - ✅ ポート3001で起動
- [ ] http://localhost:3001 にアクセスできる - 🔍 ブラウザで確認必要
- [ ] コンソールエラーがない - 🔍 ブラウザF12で確認必要

### 1.3 ビルド確認
- [x] `npm run build` が成功する - ✅ 成功
- [x] TypeScriptエラーが0件 - ✅ 0件
- [x] Next.js最適化が完了する - ✅ 11ページ最適化完了

---

## 2️⃣ 認証機能（Phase 2）

### 2.1 ログインページ
- [ ] `/login` にアクセスできる
- [ ] メールアドレス入力フィールドが表示される
- [ ] パスワード入力フィールドが表示される
- [ ] 「ログイン」ボタンが表示される
- [ ] 「新規登録はこちら」リンクが機能する

### 2.2 新規登録ページ
- [ ] `/signup` にアクセスできる
- [ ] ユーザー名入力フィールドが表示される
- [ ] メールアドレス入力フィールドが表示される
- [ ] パスワード入力フィールドが表示される
- [ ] 「登録」ボタンが表示される

### 2.3 認証フロー
- [ ] 未ログイン状態で `/dashboard` にアクセスするとログインページにリダイレクトされる
- [ ] 新規ユーザー登録ができる
- [ ] メール確認が必要な場合、適切なメッセージが表示される
- [ ] ログインが成功するとダッシュボードにリダイレクトされる
- [ ] ログアウトが機能する

### 2.4 Google OAuth（オプション）
- [ ] Google OAuth ボタンが表示される
- [ ] Google認証フローが機能する

---

## 3️⃣ ダッシュボード・基本UI（Phase 1, 2）

### 3.1 ヘッダー
- [ ] アプリタイトル「Chronos Rewards」が表示される
- [ ] コイン残高が表示される
- [ ] クリスタル残高が表示される
- [ ] スタミナバーが表示される
- [ ] ユーザーメニューが機能する
- [ ] ダークモード切り替えボタンが表示される（Phase 8）

### 3.2 フィルタチップ
- [ ] 期間フィルタ（今日/今週/2週間/1ヶ月/3ヶ月/1年/3年）が表示される
- [ ] 各フィルタをクリックすると該当タスクが絞り込まれる
- [ ] 複数選択が可能
- [ ] 期限切れタスクの表示/非表示トグルが機能する

### 3.3 タスク一覧
- [ ] タスクカードが期限順に表示される
- [ ] タスクカードに以下が表示される：
  - [ ] タスク名
  - [ ] ジャンルバッジ
  - [ ] 期限（色分け表示）
  - [ ] 見積時間
  - [ ] チェックリスト進捗
  - [ ] メリット（小フォント）

---

## 4️⃣ タスク作成・編集（Phase 3, 7）

### 4.1 クイック登録ボタン（FAB）
- [ ] 画面右下にFABボタンが表示される
- [ ] FABをクリックすると2つのボタンが展開される
  - [ ] 「今日のタスク」ボタン
  - [ ] 「今週のタスク」ボタン
- [ ] 各ボタンクリックでTaskFormモーダルが開く
- [ ] 期限が自動設定される（今日23:59、今週日曜23:59）

### 4.2 TaskForm（タスク作成フォーム）
- [ ] タスク名入力フィールドが機能する
- [ ] ジャンル選択・新規作成ができる
- [ ] 期限選択（カレンダーピッカー）が機能する
- [ ] クイック期限選択（今日/明日/今週末/来週/来月）が機能する
- [ ] 見積時間の入力ができる
- [ ] 詳細説明の入力ができる
- [ ] 前提条件（チェックリスト）の追加・削除ができる
- [ ] メリットの入力ができる
- [ ] 親タスクの選択ができる
- [ ] 「作成」ボタンでタスクが作成される
- [ ] スタミナが消費される
- [ ] コイン報酬が付与される
- [ ] 報酬アニメーションが表示される
- [ ] トースト通知が表示される

### 4.3 TaskDetailModal（タスク詳細・編集）
- [ ] タスクカードクリックで詳細モーダルが開く
- [ ] タスクの全情報が表示される
- [ ] チェックリストのON/OFFができる
- [ ] チェックリスト変更がDBに保存される
- [ ] 進捗バーが更新される
- [ ] 「編集」ボタンで編集モードに切り替わる
- [ ] 編集モードでTaskFormが埋め込まれる
- [ ] 編集保存が機能する
- [ ] 「完了」ボタンでタスクが完了する
- [ ] クリスタル報酬が付与される
- [ ] 報酬アニメーションが表示される
- [ ] 「削除」ボタンで論理削除される
- [ ] 獲得報酬履歴が表示される
- [ ] 作成日時・更新日時が表示される
- [ ] 子タスク一覧が表示される（親タスクの場合）

---

## 5️⃣ 報酬システム（Phase 4, 7）

### 5.1 コイン報酬（タスク作成時）
- [ ] タスク作成時にコイン報酬が計算される
- [ ] 基本報酬（10コイン）が付与される
- [ ] 詳細度に応じてボーナスが付与される
  - [ ] 前提条件入力: +1.2倍
  - [ ] メリット入力: +1.2倍
- [ ] ヘッダーのコイン残高が更新される
- [ ] カウントアップアニメーションが表示される
- [ ] 報酬履歴に記録される

### 5.2 クリスタル報酬（タスク完了時）
- [ ] タスク完了時にクリスタル報酬が計算される
- [ ] 見積時間に応じて報酬が付与される
- [ ] 前提条件・メリット記入済みでボーナスが付与される
- [ ] 親タスク完了時に大量クリスタルが付与される
- [ ] ヘッダーのクリスタル残高が更新される
- [ ] キラキラエフェクトが表示される
- [ ] 報酬履歴に記録される

### 5.3 レベルシステム
- [ ] クリスタル獲得でレベルアップする
- [ ] レベルアップ時に派手な演出が表示される
- [ ] レベルがプロフィールに反映される

---

## 6️⃣ スタミナシステム（Phase 4, 7）

### 6.1 スタミナ表示
- [ ] ヘッダーにスタミナバーが表示される
- [ ] 現在値/最大値が表示される
- [ ] グラデーションで視覚的に表現される

### 6.2 スタミナ消費
- [ ] タスク作成時にスタミナが消費される
- [ ] タスク編集時にスタミナが消費される
- [ ] スタミナ不足時にエラーメッセージが表示される
- [ ] スタミナ不足時はタスク作成できない

### 6.3 スタミナ回復
- [ ] 時間経過で自動回復する
- [ ] 回復時間が表示される
- [ ] 回復時にエフェクトが表示される（オプション）

---

## 7️⃣ アニメーション（Phase 5）

### 7.1 報酬獲得アニメーション
- [ ] コイン獲得時に浮遊アニメーションが表示される
- [ ] クリスタル獲得時にキラキラエフェクトが表示される
- [ ] 報酬額がカウントアップされる

### 7.2 レベルアップアニメーション
- [ ] レベルアップ時に派手な演出が表示される
- [ ] パーティクルエフェクトが表示される
- [ ] レベル数が表示される

### 7.3 UI遷移アニメーション
- [ ] タスクカード追加時にスライドインする
- [ ] モーダル表示時にフェードイン・スライドインする
- [ ] ページ遷移がスムーズ

---

## 8️⃣ カレンダービュー（Phase 8）

### 8.1 カレンダーコンポーネント
- [ ] `/calendar` にアクセスできる
- [ ] 月間カレンダーが表示される
- [ ] 各日付にタスク数バッジが表示される
- [ ] 今日の日付がハイライトされる
- [ ] 前月・翌月ボタンで月を切り替えられる

### 8.2 日付選択
- [ ] 日付をクリックすると選択される
- [ ] 選択日のタスク一覧が右側に表示される
- [ ] タスクカードから完了・削除ができる

### 8.3 月間統計
- [ ] 月間完了数/総数が表示される
- [ ] 完了率が表示される

---

## 9️⃣ 統計ダッシュボード（Phase 8）

### 9.1 統計ページ
- [ ] `/statistics` にアクセスできる
- [ ] 期間選択（週間/月間/年間）ボタンが機能する

### 9.2 統計サマリ
- [ ] 完了タスク数が表示される
- [ ] 総タスク数が表示される
- [ ] 完了率が表示される

### 9.3 グラフ表示
- [ ] タスク完了数グラフ（棒グラフ）が表示される
  - [ ] 週間: 過去7日の日別
  - [ ] 月間: 過去4週の週別
  - [ ] 年間: 過去12ヶ月の月別
- [ ] ジャンル別統計（円グラフ）が表示される
- [ ] グラフがインタラクティブ（ホバーでTooltip表示）

### 9.4 エクスポート機能
- [ ] CSVエクスポートボタンが機能する
- [ ] JSONエクスポートボタンが機能する
- [ ] 統計データエクスポートボタンが機能する
- [ ] ダウンロードされたファイルが正しい形式

---

## 🔟 ダークモード（Phase 8）

### 10.1 テーマ切り替え
- [ ] ヘッダーにテーマ切り替えボタンが表示される
- [ ] ライト/ダークモードが切り替わる
- [ ] 設定がlocalStorageに保存される
- [ ] ページリロード後も設定が保持される

### 10.2 ダークモード表示
- [ ] 全ページがダークモード対応している
- [ ] UIコンポーネントがダークモード対応している
  - [ ] Button
  - [ ] Card
  - [ ] Input
  - [ ] Textarea
  - [ ] Badge
  - [ ] Modal
  - [ ] Progress
- [ ] テキストの可読性が保たれている
- [ ] コントラストが適切

---

## 1️⃣1️⃣ アクセシビリティ（Phase 9）

### 11.1 キーボード操作
- [ ] Tabキーでフォーカス移動ができる
- [ ] Enterキーでボタン・リンクが実行される
- [ ] Escキーでモーダルが閉じる
- [ ] タスクカードでEnter/Spaceキーでクリックできる

### 11.2 スクリーンリーダー対応
- [ ] aria-label が適切に設定されている
- [ ] ボタンの状態（loading/disabled）が読み上げられる
- [ ] フォーム入力のエラーが通知される
- [ ] タスクカードの情報が読み上げられる

### 11.3 フォーカス管理
- [ ] フォーカス可能な要素が適切にハイライトされる
- [ ] モーダル内でフォーカスがトラップされる
- [ ] フォーカス順序が論理的

---

## 1️⃣2️⃣ レスポンシブデザイン

### 12.1 PC表示（1280px以上）
- [ ] 3カラムレイアウトが表示される
- [ ] すべての要素が適切に配置される
- [ ] グラフが正しく表示される

### 12.2 タブレット表示（768px-1279px）
- [ ] 2カラムレイアウトが表示される
- [ ] タッチ操作が機能する

### 12.3 モバイル表示（768px未満）
- [ ] シングルカラムレイアウトが表示される
- [ ] FABボタンが適切な位置に表示される
- [ ] スワイプ操作が機能する
- [ ] ヘッダーメニューが展開・縮小される

---

## 1️⃣3️⃣ エラーハンドリング

### 13.1 ネットワークエラー
- [ ] オフライン時に適切なエラーメッセージが表示される
- [ ] オンライン復帰時に自動で再接続される

### 13.2 バリデーションエラー
- [ ] 必須フィールド未入力時にエラーが表示される
- [ ] 不正な値入力時にエラーが表示される
- [ ] エラーメッセージが分かりやすい

### 13.3 認証エラー
- [ ] セッション切れ時にログインページにリダイレクトされる
- [ ] 認証失敗時に適切なエラーメッセージが表示される

---

## 1️⃣4️⃣ パフォーマンス

### 14.1 初期ロード
- [ ] ページ初回表示が3秒以内
- [ ] スプラッシュ画面が表示される（オプション）

### 14.2 動的インポート
- [ ] TaskDetailModalが遅延ロードされる
- [ ] RewardAnimationが遅延ロードされる
- [ ] Calendarが遅延ロードされる
- [ ] ローディング表示が適切

### 14.3 最適化
- [ ] タスク一覧のスクロールがスムーズ
- [ ] アニメーションが60fps で動作する
- [ ] メモリリークがない

---

## 1️⃣5️⃣ データ整合性

### 15.1 リアルタイム同期
- [ ] タスク作成が即座に反映される
- [ ] タスク更新が即座に反映される
- [ ] タスク削除が即座に反映される
- [ ] 報酬更新が即座に反映される

### 15.2 楽観的更新
- [ ] UI更新が即座に行われる
- [ ] サーバーエラー時にロールバックされる

### 15.3 データ永続化
- [ ] ページリロード後もデータが保持される
- [ ] ログアウト→ログイン後もデータが保持される

---

## 1️⃣6️⃣ PWA機能（オプション）

### 16.1 インストール
- [ ] PWAとしてインストールできる
- [ ] ホーム画面にアイコンが追加される

### 16.2 オフライン対応
- [ ] オフライン時も基本的な閲覧ができる
- [ ] Service Workerが正しく動作する

### 16.3 キャッシング
- [ ] 静的リソースがキャッシュされる
- [ ] 2回目以降のロードが高速

---

## 🐛 既知の問題

### 警告・非クリティカル
- [x] Supabase Auth Helpers 型推論警告（実行時影響なし） - ✅ 確認済み（@ts-nocheck で対応）
- [x] Next.js メタデータ警告（機能影響なし） - ✅ 確認済み（viewport/themeColor警告）
- [x] CRLF/LF改行コード警告（機能影響なし） - ✅ 確認済み

---

## ✅ テスト完了基準

### 必須項目（クリティカル）
- [ ] 認証フローが完全に機能する
- [ ] タスクCRUD操作が全て機能する
- [ ] 報酬システムが正しく動作する
- [ ] スタミナシステムが正しく動作する
- [ ] データが正しく保存・取得される

### 推奨項目
- [ ] アニメーションが表示される
- [ ] レスポンシブデザインが機能する
- [ ] ダークモードが機能する
- [ ] 統計・カレンダーが機能する
- [ ] エクスポートが機能する

### オプション項目
- [ ] PWAインストールができる
- [ ] アクセシビリティが完全対応
- [ ] パフォーマンスが最適

---

## 📝 テスト結果記録

### テスト実施日
- 日付: 2026-02-15
- 実施者: Claude (自動) + ユーザー（手動UI確認）
- 環境: Windows / Next.js 14.2.35 / Node.js v22.13.0

### 発見された問題
1.
2.
3.

### 総合評価
- [ ] すべて合格 - 本番環境デプロイ可能
- [ ] 一部不合格 - 修正が必要
- [ ] 多数不合格 - 大幅な修正が必要

---

**作成日**: 2026-02-15
**最終更新**: 2026-02-15
**バージョン**: 1.0
